[gd_scene load_steps=33 format=3 uid="uid://cjanwm3sy2x37"]

[ext_resource type="Script" path="res://Scripts/Level_01.gd" id="1_iaili"]
[ext_resource type="PackedScene" uid="uid://bvkfp0ufwcrm" path="res://Scenes/npc/a_husband.tscn" id="2_irrk8"]
[ext_resource type="PackedScene" uid="uid://w7m6tehvvy3g" path="res://Scenes/Prefabs/player.tscn" id="2_pay8t"]
[ext_resource type="PackedScene" uid="uid://bfmh3fm2de78o" path="res://Scenes/Prefabs/Coin.tscn" id="3_rrh80"]
[ext_resource type="Texture2D" uid="uid://mlk8x2l6arr0" path="res://Assets/Spritesheet/side_TestMap.png" id="4_clgdb"]
[ext_resource type="Script" path="res://Scripts/Level.gd" id="4_v2uxj"]
[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="4_vgfkr"]
[ext_resource type="PackedScene" uid="uid://b3lep270jdeyv" path="res://Scenes/npc/a_wife.tscn" id="5_7cr6o"]
[ext_resource type="Script" path="res://Scripts/GameUI.gd" id="6_66mfc"]
[ext_resource type="PackedScene" uid="uid://3ycmmp474166" path="res://Scenes/npc/b_sibling.tscn" id="6_xye2r"]
[ext_resource type="Texture2D" uid="uid://clreg520jah1j" path="res://Assets/platformPack_item008.png" id="7_j7jun"]
[ext_resource type="FontFile" uid="uid://qgc4vi5osk7v" path="res://Assets/Fonts/Star Choco.ttf" id="8_gwcy2"]
[ext_resource type="PackedScene" uid="uid://cfhgdldvpdf8m" path="res://Scenes/Prefabs/clock.tscn" id="9_0fim8"]
[ext_resource type="Texture2D" uid="uid://cssr3xx5j3dsl" path="res://Assets/Textures/godot_neutral_point_light.webp" id="10_23jwq"]
[ext_resource type="PackedScene" uid="uid://dpq6pgox64htv" path="res://Scenes/puzzle_assets/lockbox.tscn" id="11_h7n2w"]
[ext_resource type="PackedScene" uid="uid://c7r78oau0sqy2" path="res://Scenes/npc/c_kidnapped.tscn" id="13_ifglg"]
[ext_resource type="PackedScene" uid="uid://cap0vf4rc5ks7" path="res://Scenes/npc/d_phych.tscn" id="14_rj8xu"]
[ext_resource type="Texture2D" uid="uid://bnf86vn8x78fm" path="res://Assets/Images/jail.png" id="15_pgg1i"]
[ext_resource type="PackedScene" uid="uid://35qculf7vxrt" path="res://Scenes/Levels/chest.tscn" id="15_x4ydl"]
[ext_resource type="Texture2D" uid="uid://kce0kr4wu0yr" path="res://Assets/Images/darkbackground.png" id="16_s0hr7"]
[ext_resource type="Texture2D" uid="uid://bpiagwfga4rr8" path="res://Assets/Textures/bang.png" id="17_aahwe"]
[ext_resource type="Texture2D" uid="uid://bt4ch0h1fcup3" path="res://Assets/Images/finalfoor.png" id="17_tq01t"]
[ext_resource type="Texture2D" uid="uid://7nc4mdm5ep0t" path="res://Assets/Images/poster.png" id="23_6ig1y"]
[ext_resource type="Texture2D" uid="uid://cc6w2ybsx5yga" path="res://Assets/Images/chest_interface.jpeg" id="23_ay53m"]
[ext_resource type="Texture2D" uid="uid://c843pqnxa3qyq" path="res://Assets/Images/closebutton.png" id="24_penh4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_26wly"]
size = Vector2(15.2, 9.2)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_s0osg"]
texture = ExtResource("4_clgdb")
texture_region_size = Vector2i(48, 48)
4:0/size_in_atlas = Vector2i(50, 13)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_ywwrl"]
tile_size = Vector2i(48, 48)
physics_layer_0/collision_layer = 1
sources/3 = SubResource("TileSetAtlasSource_s0osg")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_alnvl"]
size = Vector2(117.317, 124.754)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_4lnhe"]
light_mode = 2

[sub_resource type="Gradient" id="Gradient_y8247"]
interpolation_mode = 2
offsets = PackedFloat32Array(0, 0.595432, 0.995106)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_di8t3"]
gradient = SubResource("Gradient_y8247")
fill_from = Vector2(0.619658, 0)
fill_to = Vector2(0.967949, 0.196581)
metadata/_snap_count = 13

[node name="Level_01" type="Node2D"]
script = ExtResource("1_iaili")

[node name="Coins" type="Node2D" parent="."]
visible = false

[node name="Coin" parent="Coins" instance=ExtResource("3_rrh80")]
position = Vector2(576, 406)

[node name="Coin2" parent="Coins" instance=ExtResource("3_rrh80")]
position = Vector2(712, 353)

[node name="Coin3" parent="Coins" instance=ExtResource("3_rrh80")]
position = Vector2(844, 408)

[node name="Level" type="Node2D" parent="."]
script = ExtResource("4_v2uxj")

[node name="Chest" parent="Level" instance=ExtResource("15_x4ydl")]
z_index = 1
position = Vector2(1848, 435)

[node name="Area2D2" type="Area2D" parent="Level/Chest"]

[node name="MouseCollisionChest" type="CollisionShape2D" parent="Level/Chest/Area2D2"]
position = Vector2(7.62939e-06, 0.200001)
shape = SubResource("RectangleShape2D_26wly")

[node name="A_husband" parent="Level" instance=ExtResource("2_irrk8")]
position = Vector2(631, 283)
up_direction = Vector2(0, 1)

[node name="A_wife" parent="Level" instance=ExtResource("5_7cr6o")]
position = Vector2(524, 282)

[node name="b_sibling" parent="Level" instance=ExtResource("6_xye2r")]
position = Vector2(1268, 282)

[node name="c_kidnapped" parent="Level" instance=ExtResource("13_ifglg")]
position = Vector2(1997, 279)

[node name="clock_node2D" parent="Level" instance=ExtResource("9_0fim8")]
position = Vector2(2892, 132)
scale = Vector2(0.5, 0.5)

[node name="d_phych" parent="Level" instance=ExtResource("14_rj8xu")]
position = Vector2(2627, 282)

[node name="Background" type="TileMap" parent="Level" groups=["Ground"]]
visible = false
tile_set = SubResource("TileSet_ywwrl")
format = 2
layer_0/z_index = -100
layer_0/tile_data = PackedInt32Array(393242, 327683, 0, 393240, 262147, 0, 458726, 262147, 0)

[node name="background" type="Sprite2D" parent="Level"]
z_index = -10
z_as_relative = false
position = Vector2(-157, 191)
scale = Vector2(0.878616, 0.302984)
texture = ExtResource("16_s0hr7")

[node name="a_jail" type="Sprite2D" parent="Level"]
position = Vector2(582.472, 278.953)
scale = Vector2(0.379741, 0.386175)
texture = ExtResource("15_pgg1i")

[node name="b_jail" type="Sprite2D" parent="Level"]
position = Vector2(1269.05, 275.5)
scale = Vector2(0.320222, 0.388707)
texture = ExtResource("15_pgg1i")

[node name="c_jail" type="Sprite2D" parent="Level"]
position = Vector2(1936, 290.5)
scale = Vector2(0.383458, 0.39198)
texture = ExtResource("15_pgg1i")

[node name="d_jail" type="Sprite2D" parent="Level"]
position = Vector2(2588.5, 290)
scale = Vector2(0.337594, 0.353519)
texture = ExtResource("15_pgg1i")

[node name="ground" type="Node2D" parent="Level"]
position = Vector2(-124, 474)
scale = Vector2(3.56857, 4.84722)

[node name="ground_left2" type="Sprite2D" parent="Level/ground"]
position = Vector2(-966.773, 0)
scale = Vector2(1.69, 1)
texture = ExtResource("17_tq01t")
centered = false

[node name="ground_left" type="Sprite2D" parent="Level/ground"]
position = Vector2(-420.336, 0)
scale = Vector2(1.3, 1)
texture = ExtResource("17_tq01t")
centered = false

[node name="ground_middle" type="Sprite2D" parent="Level/ground"]
position = Vector2(34.4676, 0)
scale = Vector2(1.30024, 1)
texture = ExtResource("17_tq01t")
centered = false

[node name="ground_right" type="Sprite2D" parent="Level/ground"]
position = Vector2(489.271, 0)
scale = Vector2(1.3, 1)
texture = ExtResource("17_tq01t")
centered = false

[node name="GameManager" type="Node2D" parent="."]
script = ExtResource("4_vgfkr")

[node name="UserInterface" type="CanvasLayer" parent="."]

[node name="GameUI" type="Control" parent="UserInterface"]
layout_mode = 3
anchor_right = 1.064
anchor_bottom = 0.882
offset_left = 76.0
offset_top = -3.0
offset_right = -1052.0
offset_bottom = -363.4
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("6_66mfc")

[node name="Score" type="Control" parent="UserInterface/GameUI"]
unique_name_in_owner = true
visible = false
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ScoreTexture" type="TextureRect" parent="UserInterface/GameUI/Score"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 16.0
offset_top = 16.0
offset_right = 116.0
offset_bottom = 116.0
texture = ExtResource("7_j7jun")
stretch_mode = 4

[node name="ScoreLabel" type="Label" parent="UserInterface/GameUI/Score"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 104.0
offset_top = 42.0
offset_right = 148.0
offset_bottom = 84.0
theme_override_colors/font_color = Color(0.910156, 0.730469, 0, 1)
theme_override_colors/font_outline_color = Color(1, 1, 1, 1)
theme_override_constants/outline_size = 10
theme_override_fonts/font = ExtResource("8_gwcy2")
theme_override_font_sizes/font_size = 32
text = "x 3"

[node name="bang_Sprite2D" type="Sprite2D" parent="UserInterface/GameUI"]
unique_name_in_owner = true
visible = false
position = Vector2(849, 106)
scale = Vector2(0.234642, 0.234642)
texture = ExtResource("17_aahwe")

[node name="chest_numberPad" type="Node2D" parent="UserInterface/GameUI"]
unique_name_in_owner = true
visible = false
position = Vector2(-62, 70)

[node name="ChestInterface" type="Sprite2D" parent="UserInterface/GameUI/chest_numberPad"]
position = Vector2(667, 220.5)
scale = Vector2(2.34, 1.32333)
texture = ExtResource("23_ay53m")

[node name="Sprite2D" type="Sprite2D" parent="UserInterface/GameUI/chest_numberPad/ChestInterface"]
position = Vector2(105.76, -95.2174)
scale = Vector2(0.0781083, 0.112644)
texture = ExtResource("24_penh4")

[node name="Area2D" type="Area2D" parent="UserInterface/GameUI/chest_numberPad/ChestInterface/Sprite2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="UserInterface/GameUI/chest_numberPad/ChestInterface/Sprite2D/Area2D"]
position = Vector2(0.000488281, -5.78931)
shape = SubResource("RectangleShape2D_alnvl")

[node name="Lockbox" parent="UserInterface/GameUI/chest_numberPad" instance=ExtResource("11_h7n2w")]
z_index = 10
position = Vector2(422, 328)
scale = Vector2(3, 3)

[node name="poster" type="Sprite2D" parent="UserInterface/GameUI"]
unique_name_in_owner = true
visible = false
texture_filter = 1
position = Vector2(611, 301)
scale = Vector2(0.383577, 0.384756)
texture = ExtResource("23_6ig1y")

[node name="Area2D" type="Area2D" parent="UserInterface/GameUI/poster"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="UserInterface/GameUI/poster/Area2D"]
position = Vector2(156.422, -434.042)
shape = SubResource("RectangleShape2D_alnvl")

[node name="Player" parent="." instance=ExtResource("2_pay8t")]
z_index = 7
position = Vector2(55, 282)
move_speed = 400.0
metadata/_edit_lock_ = true

[node name="PointLight2D" type="PointLight2D" parent="Player"]
visible = false
material = SubResource("CanvasItemMaterial_4lnhe")
position = Vector2(3, 40)
texture = ExtResource("10_23jwq")
texture_scale = 1.5

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(180, 15)
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.0
drag_top_margin = 0.0
drag_right_margin = 0.0
drag_bottom_margin = 0.0
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="PointLight2D2" type="PointLight2D" parent="Player"]
position = Vector2(-22, 11)
scale = Vector2(0.172005, 0.236877)
energy = 1.92
texture = SubResource("GradientTexture2D_di8t3")
texture_scale = 47.95
metadata/_edit_lock_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
color = Color(0.347817, 0.347817, 0.347817, 1)

[connection signal="input_event" from="Level/Chest/Area2D2" to="Level/Chest" method="_on_area_2d_2_input_event"]
[connection signal="mouse_entered" from="Level/Chest/Area2D2" to="." method="change_to_action_cursor"]
[connection signal="mouse_entered" from="Level/Chest/Area2D2" to="Level/Chest" method="_mouse_on_box"]
[connection signal="mouse_exited" from="Level/Chest/Area2D2" to="." method="change_to_idle_cursor"]
[connection signal="mouse_exited" from="Level/Chest/Area2D2" to="Level/Chest" method="_mouse_off_box"]
[connection signal="input_event" from="UserInterface/GameUI/chest_numberPad/ChestInterface/Sprite2D/Area2D" to="Level/Chest" method="_on_area_2d_input_event"]
[connection signal="mouse_entered" from="UserInterface/GameUI/chest_numberPad/ChestInterface/Sprite2D/Area2D" to="." method="change_to_action_cursor"]
[connection signal="mouse_exited" from="UserInterface/GameUI/chest_numberPad/ChestInterface/Sprite2D/Area2D" to="." method="change_to_idle_cursor"]
[connection signal="input_event" from="UserInterface/GameUI/poster/Area2D" to="Level/Chest" method="_on_area_2d_input_event"]
[connection signal="mouse_entered" from="UserInterface/GameUI/poster/Area2D" to="." method="change_to_action_cursor"]
[connection signal="mouse_exited" from="UserInterface/GameUI/poster/Area2D" to="." method="change_to_idle_cursor"]
